<div id="screen-lecture-analysis" class="screen space-y-6">
    <div class="text-sm text-gray-600">
        <span onclick="showScreen('screen-home-dashboard', document.getElementById('nav-home'))" class="hover:underline cursor-pointer">Home</span> <span class="mx-1">&gt;</span>
        <span onclick="showScreen('screen-course-hub', document.getElementById('nav-courses'))" class="hover:underline cursor-pointer">ML: AI System Design</span> <span class="mx-1">&gt;</span>
        <span class="font-medium text-gray-800">Lecture 3: Analysis</span>
    </div>
    
    <div class="flex justify-between items-center">
        <h1 class="text-4xl font-bold text-gray-900">Lecture 3: The Data Dilemma</h1>
        <div class="flex gap-3" id="survey-button-container">
            <button onclick="generateStudentSurvey()" class="flex items-center gap-2 text-white font-semibold py-2 px-4 rounded-lg bg-gradient-to-r from-purple-500 to-pink-500 shadow-md hover:opacity-90 transition-opacity">
                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 002.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 48.424 0 00-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 00.75-.75 2.25 2.25 0 00-.1-.664m-5.8 0A2.251 2.251 0 0113.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25zM6.75 12h.008v.008H6.75V12zm0 3h.008v.008H6.75V15zm0 3h.008v.008H6.75V18z" /></svg>
                Generate Student Survey
            </button>
            <button onclick="showModal('modal-lecture-rewind')" class="flex items-center gap-2 text-white font-semibold py-2 px-4 rounded-lg primary-gradient shadow-md hover:opacity-90 transition-opacity">
                <svg class="w-5 h-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5" /></svg>
                Launch Lecture Rewind
            </button>
        </div>
    </div>


    <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
        <div class="lg:col-span-2 space-y-6">
            <div class="bg-gray-900 rounded-xl shadow-md aspect-video flex items-center justify-center">
                <span class="text-gray-400 text-lg font-medium">Mock Video Player</span>
            </div>
            
            <div class="bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-md overflow-x-auto">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Analysis Timeline</h3>
                <div class="space-y-2 min-w-[800px]">
                    <div class="font-medium text-sm text-gray-700">Clarity</div>
                    <div class="timeline-track">
                        <div class="timeline-event bg-yellow-500" style="left: 70%; width: 5%;" title="Rushed Theory (00:50:07)" onclick="showInsight('clarity')"></div>
                        <div class="timeline-event bg-yellow-500" style="left: 71%; width: 5%;" title="Rushed Theory (00:50:30)" onclick="showInsight('clarity')"></div>
                    </div>
                    <div class="font-medium text-sm text-gray-700">Interaction</div>
                    <div class="timeline-track">
                        <div class="timeline-event bg-blue-500" style="left: 15%; width: 2%;" title="Student Question (00:10:59)" onclick="showInsight('question')"></div>
                        <div class="timeline-event bg-green-500" style="left: 16%; width: 3%;" title="Professor Answer (00:11:09)" onclick="showInsight('answer')"></div>
                    </div>
                    <div class="font-medium text-sm text-gray-700">Positive</div>
                    <div class="timeline-track">
                        <div class="timeline-event bg-pink-500" style="left: 18%; width: 3%;" title="Good Joke (00:13:20)" onclick="showInsight('joke')"></div>
                        <div class="timeline-event bg-green-500" style="left: 47%; width: 4%;" title="A+ Case Study (00:33:45)" onclick="showInsight('joke')"></div>
                        <div class="timeline-event bg-green-500" style="left: 74%; width: 4%;" title="Excellent Example (00:52:40)" onclick="showInsight('joke')"></div>
                    </div>
                </div>
            </div>
            
            <div class="bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-md h-96 overflow-y-auto">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Transcript</h3>
                <div class="space-y-3 text-gray-700">
                    <p><span class="font-semibold text-black">[00:02:40]</span> (Success) ...in this class, where we're thinking about designing the entire system, none of these things can be taken for granted, and some or all of them are going to be false for you...</p>
                    <p><span class="font-semibold text-black">[00:10:59]</span> [Student Question] <span class="text-blue-600">(LaRue) Based on what we're, like, based on, like, how long it takes [to open]?</span></p>
                    <p><span class="font-semibold text-black">[00:11:09]</span> [Professor Answer] <span class="text-green-700">(Success) Great, okay, so I can look at time... What's the obvious problem with that? ... Your email is ordered by time. Right? So there's a huge bias towards opening more recent things...</span></p>
                    <p><span class="font-semibold text-black">[00:33:45]</span> (Success) And Bibliotic got the data by, copyright infringement. Right? They basically just stole a bunch of book data... And what ended up happening is... they ended up being distributed and used by language models.</p>
                    <p><span class="font-semibold text-black">[00:50:07]</span> (Opportunity) So, one type of non-representatives of data is something called data shift. Okay? So, a data shift, or a dataset shift. is where the training and test data come from joint distributions that are different.</p>
                    <p><span class="font-semibold text-black">[00:50:30]</span> (Opportunity) [AI: This section is extremely rushed] ...In covariate shift, the data that you see changes, but what you do with the data remains the same... Label shift is where the likelihood of seeing different labels is what changes...</p>
                    <p><span class="font-semibold text-black">[00:52:40]</span> (Success) ...one of my favorite examples of this is, search engines... So, if you search for the World Cup on Google, what should be the top result?</p>
                    <p><span class="font-semibold text-black">[01:08:15]</span> (Opportunity) I'm gonna leave you with one thing... Please return your badges. We're gonna do a little bit of system here. [Lecture ends abruptly]</p>
                </div>
            </div>
            
            <div id="student-feedback-section" class="bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-md">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Student Feedback</h3>
                <div id="student-feedback-content">
                    <div class="text-center py-8 text-gray-500">
                        <svg class="w-12 h-12 mx-auto mb-3 text-gray-400" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" d="M7.5 8.25h9m-9 3H12m-9.75 1.51c0 1.6 1.123 2.994 2.707 3.227 1.129.166 2.27.293 3.423.379.35.026.67.21.865.501L12 21l2.755-4.133a1.14 1.14 0 01.865-.501 48.172 48.172 0 003.423-.379c1.584-.233 2.707-1.626 2.707-3.228V6.741c0-1.602-1.123-2.995-2.707-3.228A48.394 48.394 0 0012 3c-2.392 0-4.744.175-7.043.513C3.373 3.746 2.25 5.14 2.25 6.741v6.018z" />
                        </svg>
                        <p>Loading student feedback...</p>
                    </div>
                </div>
            </div>
        </div>
        
        <aside class="space-y-6">
            <div class="bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-md">
                <h3 class="text-xl font-semibold text-gray-800 mb-4">Topic Coverage</h3>
                <div class="space-y-3">
                    <div class="flex items-center gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center"><svg class="w-4 h-4 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></span>
                        <span class="font-medium text-gray-700">Data Access & Rights (Covered)</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-green-100 flex items-center justify-center"><svg class="w-4 h-4 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></span>
                        <span class="font-medium text-gray-700">Representation & Bias (Covered)</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-red-100 flex items-center justify-center"><svg class="w-4 h-4 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span>
                        <span class="font-medium text-gray-700">Data Preparation (Missed)</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-red-100 flex items-center justify-center"><svg class="w-4 h-4 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span>
                        <span class="font-medium text-gray-700">Data Understanding (Missed)</span>
                    </div>
                    <div class="flex items-center gap-3">
                        <span class="flex-shrink-0 w-6 h-6 rounded-full bg-red-100 flex items-center justify-center"><svg class="w-4 h-4 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span>
                        <span class="font-medium text-gray-700">Data Documentation (Missed)</span>
                    </div>
                </div>
            </div>
            
            <div id="dynamic-insight-panel" class="bg-white/80 backdrop-blur-sm p-6 rounded-xl shadow-md">
                <h3 id="dynamic-insight-panel-title" class="text-xl font-semibold text-gray-800 mb-4">AI Reflections & Actions</h3>
                
                <div id="insight-content">
                    <ul class="space-y-4">
                        <li class="flex items-start gap-3">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-yellow-100 flex items-center justify-center mt-1"><svg class="w-5 h-5 text-yellow-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 0a12.06 12.06 0 004.5 0m-8.25 0a12.06 12.06 0 01-4.5 0m3.75 2.023a14.077 14.077 0 01-6.75 0" /></svg></span>
                            <div>
                                <h4 class="font-semibold text-gray-800">Opportunity: Rushed Pacing</h4>
                                <p class="text-gray-600">The pacing for foundational theory (e.g., 'data shift') was extremely fast. This risks students recalling the *story* but not the *principle*.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mt-1"><svg class="w-5 h-5 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M11.48 3.499a.562.562 0 011.04 0l2.125 5.111a.563.563 0 00.475.31h5.418a.563.563 0 01.321.988l-4.204 3.602a.563.563 0 00-.182.557l1.528 4.707a.563.563 0 01-.84.622l-4.1-3.21a.563.563 0 00-.67 0l-4.1 3.21a.563.563 0 01-.84-.622l1.528-4.707a.563.563 0 00-.182-.557l-4.204-3.602a.563.563 0 01.321-.988H8.88a.563.563 0 00.475-.31l2.125-5.111z" /></svg></span>
                            <div>
                                <h4 class="font-semibold text-gray-800">Success: Strong Case Studies</h4>
                                <p class="text-gray-600">Your exceptional use of real-world case studies (e.g., 'The Pile', 'Street Bump') makes abstract concepts concrete and memorable.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-red-100 flex items-center justify-center mt-1"><svg class="w-5 h-5 text-red-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12" /></svg></span>
                            <div>
                                <h4 class="font-semibold text-gray-800">Opportunity: Deferred Content</h4>
                                <p class="text-gray-600">The lecture ran out of time, deferring three critical topics: Preparation, Understanding, and Documentation. This is a gap for student projects.</p>
                            </div>
                        </li>
                        <li class="flex items-start gap-3">
                            <span class="flex-shrink-0 w-8 h-8 rounded-full bg-green-100 flex items-center justify-center mt-1"><svg class="w-5 h-5 text-green-600" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" d="M4.5 12.75l6 6 9-13.5" /></svg></span>
                            <div>
                                <h4 class="font-semibold text-gray-800">Success: Socratic Q&A</h4>
                                <p class="text-gray-600">Your handling of LaRue's question at [00:10:59] was a model of Socratic teaching, validating the idea then critiquing it.</p>
                            </div>
                        </li>
                    </ul>
                    
                    <hr class="my-4 border-gray-200">
                    <h4 class="font-semibold text-gray-800 mb-3">Action Items for Next Lecture</h4>
                    <ul class="space-y-2 list-disc list-inside text-sm text-gray-700">
                        <li><b>Must Do:</b> Begin the next lecture with the deferred content (Preparation, Understanding, Documentation).</li>
                        <li><b>Should Do:</b> Create a 5-min recap to remediate the rushed 'data shift' definitions.</li>
                        <li><b>Continue Doing:</b> Keep leading with 1-2 strong, real-world case studies per topic.</li>
                    </ul>
                </div>
            </div>
        </aside>
    </div>
</div>